/**
var jq = document.createElement('script');
jq.src = "https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js";
document.getElementsByTagName('head')[0].appendChild(jq);
**/

var symbols = [["INFY",408065,1122.85,1134.75, 1113.85, 1125.95],["TCS",2953217,3166,3193.45, 3145.85, 3159.1],["ICICIBANK",1270529,293.7,294.9, 289, 290.05],["AXISBANK",1510401,535.5,535.5, 516.5, 518.25],["SBIN",779521,249.5,249.9, 245.3, 246.45],["RELIANCE",738561,945.25,948.2, 935.05, 938],["HINDALCO",348929,239.7,244.75, 236.05, 242.8],["TATASTEEL",895745,600.95,604.9, 594.6, 601.6],["BPCL",134657,407.2,409, 402.55, 405.2],["DHFL",215553,592.15,603.8, 590.6, 593.15],["VEDL",784129,293,294, 289.4, 291.1],["HDFC",340481,1897.7,1898, 1871.1, 1877.7],["TATAMOTORS",884737,338.2,339.75, 333.4, 334.8],["YESBANK",3050241,311,313.7, 308.75, 309.55],["IBVENTURES",3938305,375,395, 367.3, 390.5],["MARUTI",2815745,9178,9227.45, 9095.9, 9121.5],["TITAN",897537,999.7,999.7, 975.1, 977.1],["ITC",424961,268.7,278.9, 268, 275.35],["MGL",4488705,898.95,902.2, 890.9, 895.7],["BHARTIARTL",2714625,383.7,391.85, 382.35, 384.25],["IOC",415745,167.5,167.6, 164.5, 164.95],["HINDPETRO",359937,330,330.85, 318.4, 319.6],["JUBLFOOD",4632577,2514.75,2532.2, 2478.45, 2486.9],["ASHOKLEY",54273,149.85,151, 148.05, 149.4],["HCLTECH",1850625,1014.9,1015.8, 993, 996.85],["PNB",2730497,98.05,99, 97, 97.15],["CANBK",136315652,277.4,282.45, 274.3, 277.3],["MINDTREE",3675137,884,895.85, 859.85, 865.1],["JETAIRWAYS",2997505,640.55,645, 615.3, 617.75],["LT",2939649,1363.1,1371.45, 1351, 1360.1],["FORTIS",3735553,146.3,148, 144.1, 144.85],["IBREALEST",3699201,196,204.8, 194.2, 202.55],["TECHM",3465729,668.95,674, 654.2, 656.8],["IRB",3920129,261,267.25, 254.3, 255.4],["JINDALSTEL",1723649,252.5,253.25, 248.45, 249.9],["JPASSOCIAT",2933761,19.8,21.4, 19.5, 21],["ESCORTS",245249,979.8,980.85, 962.25, 964.35],["HDFCBANK",341249,1951,1953.5, 1930.05, 1932.6],["BANKBARODA",1195009,148.5,149.15, 140.85, 141.65],["SUNPHARMA",857857,514.35,517.4, 510.65, 512],["IBULHSGFIN",7712001,1365.95,1386.35, 1355, 1369.6],["KOTAKBANK",492033,1167.5,1167.5, 1151.15, 1153.95],["M&M",519937,813,813, 795.7, 798.3],["CIPLA",177665,582,597, 582, 584.6],["DLF",136414212,219.1,219.5, 211.25, 212.5],["PCJEWELLER",7455745,308.35,309.15, 290.95, 293.8],["BAJFINANCE",81153,1946,1950.55, 1921.3, 1926.85],["NIITTECH",2955009,940,947.7, 924.7, 928.2],["IDBI",377857,71.45,71.85, 69.5, 69.95],["ADANIPORTS",3861249,385.25,387.7, 380.2, 384.95],["EICHERMOT",232961,31050.05,31337.25, 30800, 30873.9],["VENKEYS",961793,4475,4485, 4345.1, 4365.4],["INDIGO",2865921,1494,1497.5, 1464.2, 1474.65],["TATASPONGE",419585,1170,1180, 1111.1, 1120.9],["RELCAPITAL",737793,446,446.7, 434.6, 436],["SUNTV",3431425,888,906, 875.65, 899.55],["DCBBANK",3513601,202,203.65, 195.8, 197],["RCOM",3375873,21.25,21.45, 20.8, 21],["BIOCON",2911489,627,629.4, 620.2, 623.7],["NATIONALUM",1629185,79,80.7, 78.6, 80.15],["JSWSTEEL",3001089,307,312, 307, 309.95],["FEDERALBNK",261889,100,101.6, 99, 99.2],["DMART",5097729,1498,1508, 1485.25, 1492.65],["LUPIN",2672641,810,813.05, 787.5, 790.55],["CEATLTD",3905025,1623,1635, 1589, 1596.8],["SRTRANSFIN",1102337,1564.8,1585, 1555.3, 1569.65],["APOLLOTYRE",41729,298.75,299.2, 288.25, 289.45],["HINDUNILVR",356865,1450.5,1456.15, 1440, 1450.5],["INFRATEL",7458561,335,338, 334.5, 336.05],["DISHTV",3721473,78.7,79.25, 77.3, 77.6],["BAJAJ-AUTO",4267265,2879,2879, 2845.7, 2862.05],["TVSMOTOR",2170625,672.3,678.4, 665, 673.55],["POWERGRID",3834113,205.1,205.8, 204.35, 205],["GRAPHITE",151553,705.7,710, 687.05, 696.45],["IDEA",3677697,72,72.45, 71.3, 71.5],["AUROPHARMA",70401,622,624.9, 607, 609.5],["INDUSINDBK",1346049,1871,1873.2, 1836, 1843.6],["GMRINFRA",3463169,20.05,20.2, 19.6, 19.7],["RELINFRA",141569,461,465.85, 456.2, 460.05],["TATAGLOBAL",878593,282.3,287.45, 279.25, 284.1],["HEG",342017,2757.6,2825, 2721, 2734.1],["LIQUIDBEES",2817537,1000,1000.01, 999.99, 1000],["SHAKTIPUMP",6546945,761,774.9, 751.5, 756.2],["ADANIENT",6401,141,141, 135.7, 136.75],["ONGC",633601,181.05,182.95, 181, 182.1],["BAJAJELEC",3848705,658,658.95, 645.5, 649.4],["BANKINDIA",1214721,110.8,112.2, 108.45, 109.05],["M&MFIN",3400961,505,515, 504.65, 509.05],["DIVISLAB",2800641,1182,1203.4, 1171, 1174.9],["DRREDDY",225537,2114.7,2117.25, 2091.05, 2101.65],["ZEEL",975873,577,594.95, 575.3, 588.25],["HEROMOTOCO",345089,3765.05,3784, 3731.6, 3737.8],["SAIL",758529,77.45,77.95, 76.75, 77.3],["JUSTDIAL",7670273,453.5,458.4, 446.35, 449],["BOMDYEING",131329,264.7,274.5, 261.5, 267.7],["PIDILITIND",681985,1039.8,1055, 1039.7, 1051.6],["HEXAWARE",2747905,415,428.4, 413.6, 416.1],["BALKRISIND",85761,1320,1330, 1302.5, 1307.15],["HINDZINC",364545,319.9,324.55, 317.2, 323.4],["WIPRO",969473,288.2,293.8, 286.5, 292.65],["GAIL",1207553,327.4,332.55, 326, 330.65],["GODREJCP",2585345,1076.4,1140.8, 1075.8, 1131.3],["NTPC",2977281,176.5,180, 176.35, 178.55],["INFIBEAM",4159745,170.9,171.55, 169, 169.65],["MCDOWELL-N",2674433,3512,3512, 3411.05, 3422.95],["DELTACORP",3851265,279.8,286.9, 277, 284.75],["VOLTAS",951809,640.4,645.4, 632.1, 643],["ULTRACEMCO",2952193,3934,4008.7, 3922.45, 3992.35],["RAIN",3926273,347,347, 336, 337.25],["GRASIM",315393,1096.1,1100.5, 1087.15, 1092.85],["BHARATFORG",108033,740.9,746, 732.4, 736.65],["BBTC",97281,1281,1395, 1270, 1368.95],["BAJAJFINSV",4268801,5435,5456.9, 5354.8, 5371.85],["L&TFH",6386689,175,175.45, 170.85, 171.65],["LICHSGFIN",511233,565.2,565.2, 556.5, 559.25],["UNIONBANK",2752769,98,99.45, 95.75, 96.35],["ADANITRANS",2615553,177.45,179.95, 173.1, 174],["TATAELXSI",873217,1076,1079, 1057.6, 1064.35],["HAVELLS",2513665,552.7,554.8, 545.65, 547.25],["ADANIPOWER",4451329,25.7,26.2, 25.5, 25.8],["GNFC",300545,414.85,418.5, 406.85, 410.95],["BALRAMCHIN",87297,74.45,74.5, 70.25, 70.45],["NESTLEIND",4598529,8981.1,9118.95, 8950.2, 8975.25],["MOTHERSUMI",1076225,344,345.45, 340.45, 342.1],["TINPLATE",894209,244,244.75, 237.5, 239.5],["KWALITY",4581633,59.7,59.95, 55.05, 55.3],["BATAINDIA",94977,783.75,783.75, 770.4, 775.6],["IGL",2883073,292.65,294.75, 290.3, 293.05],["JISLJALEQS",2661633,116.8,117, 114.25, 114.65],["RAYMOND",731905,1054.7,1058.95, 1037, 1042.25],["WOCKPHARMA",1921537,757.9,759.45, 738.8, 741.45],["COALINDIA",5215745,287,288.45, 282.9, 285.1],["CENTURYTEX",160001,1225,1240, 1217, 1221.7],["ASIANPAINT",60417,1179,1185, 1168, 1172.3],["MRF",582913,79999,80100, 78950, 79069.85],["BEL",98049,139.9,140.5, 138.3, 138.7],["BRITANNIA",140033,5368,5388.4, 5321, 5361.65],["INDHOTEL",387073,148.3,155.3, 148, 152.55],["UPL",2889473,760,763.1, 752.6, 757.6],["TVSELECT",2883841,508,511.45, 482.6, 487.2],["VIPIND",947969,410.1,417.45, 403.3, 414.15],["HDFCLIFE",119553,496,500.25, 488, 493.15],["DALMIABHA",5444865,2845,2907.95, 2820.05, 2890.25],["TATACHEM",871681,745.3,746.8, 730.8, 735.95],["AMARAJABAT",25601,824,853.85, 815.4, 848.85],["ARVIND",49409,419.5,423.2, 414.95, 418.3],["EXIDEIND",173057,243.85,247, 240.6, 242.8],["NCC",593665,135.05,136.2, 131.05, 132.85],["BANDHANBNK",null,508,513.5, 501, 504.15],["TATAPOWER",877057,87.55,88.35, 87.1, 87.65],["SUPREMEIND",860929,1311,1329, 1281.05, 1289.9],["MANAPPURAM",4879617,122.55,122.55, 119.7, 120.05],["GODREJIND",2796801,583,595.15, 576.4, 591.2],["STRTECH",2383105,334,335.25, 322.25, 325.1],["TV18BRDCST",3637249,67.3,68.65, 66.75, 67.85],["ACC",128104964,1599,1602.7, 1561.95, 1573.5],["INDIACEM",387841,152.5,153.95, 149.25, 149.65],["JAICORPLTD",1316609,167.8,170.6, 161.35, 163.65],["GLENMARK",1895937,579,584.9, 564.25, 566.85],["UJJIVAN",4369665,396.95,406.9, 392.1, 394.25],["PETRONET",2905857,244.2,245.35, 237.45, 238.25],["SRF",837889,2154.1,2178.9, 2153.2, 2162.9],["CESC",160769,1037,1061.8, 1034, 1038.55],["MPHASIS",1152769,906.9,911.45, 896.6, 898],["BEPL",107265,196,203.7, 191.5, 200.8],["MCX",7982337,765,770.4, 745.25, 750.55],["GRUH",2957569,648,648.2, 638, 639.65],["KPIT",1790465,229.2,233.9, 228.5, 232.05],["FCONSUMER",7689729,60,60.05, 58, 58.7],["EDELWEISS",3870465,276.45,276.45, 272, 273.75],["FSL",3661825,57.65,59.15, 56.75, 58.45],["BHARATFIN",4995329,1153.35,1155, 1134, 1139.25],["FRETAIL",4704769,616,629.3, 615, 626.2],["RADICO",2813441,386,386.35, 377.3, 382.2],["DABUR",197633,347.55,357.35, 347.5, 355.85],["BEML",101121,1132.95,1137.4, 1112, 1120],["NMDC",3924993,125.15,125.5, 122.2, 122.85],["RBLBANK",4708097,513,514.85, 506.15, 510.05],["GOACARBON",3759873,910,914.7, 882.1, 887.3],["HDIL",3789569,41.55,43.05, 40.55, 41.65],["ABAN",2561,172.9,175.75, 171.3, 172.4],["AMBUJACEM",325121,246.25,246.95, 242.75, 244.9],["TATAMETALI",876289,834,834.7, 810, 814.65],["UBL",4278529,1099.4,1117.8, 1086.2, 1091.85],["RECLTD",3930881,128.75,129.4, 127.45, 128.15],["TEAMLEASE",3255297,2175.15,2257.8, 2175, 2220],["PRAKASH",693249,201.7,208.9, 199, 206.45],["RAMCOCEM",523009,832.6,835.5, 825, 827.2],["PAGEIND",3689729,24950,25149.95, 24701.55, 24789.75],["PEL",617473,2598,2608.8, 2570, 2579.65],["COLPAL",3876097,1101.7,1110.25, 1092.3, 1105.25],["KSCL",3832833,540.1,544.5, 526.75, 529.95],["MARICO",1041153,320.5,323.4, 317.45, 319.05],["MASTEK",543745,597.05,605, 571.5, 587.8],["SORILINFRA",3347457,312.2,324.95, 308.65, 311.45],["CONCOR",1215745,1369.95,1380, 1342.25, 1345.4],["CHOLAFIN",175361,1598,1604, 1575, 1578.95],["BHEL",112129,88.45,88.95, 87.4, 87.85],["NOCIL",625153,228.5,232.5, 225.6, 228],["APOLLOHOSP",40193,1090,1091, 1071, 1076.1],["TATAMTRDVR",4343041,193.25,193.7, 189.45, 190.4],["NBCC",8042241,215.25,215.95, 210.1, 211],["INDIANB",3663105,319.25,322.95, 305.4, 306.75],["KEC",3394561,430,441.9, 428.8, 439.45],["MUTHOOTFIN",6054401,441.4,446.6, 426.5, 428.85],["PVR",3365633,1330,1342.05, 1320.6, 1324.15],["DBL",4630017,1162.7,1162.7, 1131.1, 1140.7],["PFC",3660545,87.5,87.7, 86.25, 86.4],["ORIENTBANK",636673,96,96.95, 94.05, 94.6],["PHILIPCARB",678145,1151.9,1159.95, 1117, 1128.5],["KTKBANK",2061825,125,125.35, 121.85, 122.15],["INDIAGLYCO",389377,544.9,553, 537, 544.5],["CHAMBLFERT",163073,178.3,180.4, 174.5, 178.45],["ICICIPRULI",4774913,385.5,392, 380.2, 381.9],["CANFINHOME",149249,445.3,447.9, 440, 441.55],["TATACOMM",952577,629,629, 618.05, 620.4],["EIHOTEL",235265,202.4,213.25, 196.5, 198.25],["OIL",4464129,218.7,219, 216.85, 218.1],["JSLHISAR",3149825,191.9,198.15, 188.6, 193.8],["CUMMINSIND",486657,724,738.1, 723, 730.4],["CEREBRAINT",7683073,66.3,70.9, 65.85, 69.05],["SANWARIA",3410433,19.6,21.1, 19.25, 20.6],["SUDARSCHEM",851713,536,634.6, 533.6, 588.25],["JUBILANT",931073,815.5,817, 794, 797.15],["BOSCHLTD",558337,19455.2,19595, 19325.6, 19400.8],["SYNDIBANK",1837825,58.1,58.5, 57.1, 57.35],["SBILIFE",5582849,715.9,724.5, 713.05, 721.35],["ENGINERSIN",1256193,158.55,159, 156.3, 156.6],["CAPF",3903745,652.7,660.7, 648.15, 650.2],["RCF",733697,81.6,81.75, 79.9, 80.2],["MEGH",3776001,106.1,107.4, 103.7, 105.45],["SREINFRA",836353,87.5,87.65, 84.85, 85.2],["IDFCBANK",2863105,49.35,50.05, 49.05, 49.45],["CHENNPETRO",524545,336.8,337.55, 330.2, 331.55],["MFSL",548353,434.1,440, 427.3, 436],["GSKCONS",821761,5925,5942, 5876.4, 5911.4],["SHREECEM",794369,16975,17100, 16955.45, 17034.85],["BFUTILITIE",3729153,422.9,423.3, 407.1, 411.85],["CADILAHC",2029825,388.65,390.95, 383.35, 385.1],["IPCALAB",418049,717,717, 700.3, 709.7],["SOUTHBANK",1522689,26.8,26.95, 26.05, 26.2],["TAJGVK",2394625,215,248, 213.05, 232.25],["CASTROLIND",320001,212.95,213.35, 207.15, 207.8],["CROMPTON",4376065,224.9,227.65, 224.25, 226.2],["ANDHRABANK",2524673,43,43.25, 41.85, 42.05],["PARAGMILK",4385281,264.2,275.7, 258.7, 273],["VGUARD",3932673,238.9,244.6, 237, 243.05],["JINDALSAW",774145,133.3,134.6, 129.7, 130.55],["SUZLON",3076609,11.8,11.95, 11.65, 11.9],["JKTYRE",3695361,168.15,168.65, 163, 163.8],["GODREJPROP",4576001,768.9,794, 765.1, 789.05],["RPOWER",3906305,40.15,40.4, 39.45, 39.6],["ALBK",2760193,51.75,52.3, 50.85, 51.05],["LTI",4561409,1396,1409.15, 1378, 1385.75],["TORNTPHARM",900609,1334.05,1361.55, 1332.05, 1353.55],["STAR",1887745,650,652.75, 640, 641.65],["KEI",132497668,436,443.8, 434, 441.75],["TAKE",3818753,199.45,204.35, 191.2, 195.05],["PRAJIND",692481,92.8,93.4, 91, 91.5],["GPIL",3432705,578,581.95, 555, 558.4],["ABFRL",7707649,151,151, 146.55, 147.1],["GNA",4754177,554,554, 533, 536.55],["CYIENT",1471489,654.95,664.2, 638.5, 643.25],["ITI",428801,128.05,128.65, 125.1, 125.55],["RAMCOSYS",2009857,478.75,479, 465.25, 470.3],["NATCOPHARM",1003009,810,827, 797, 801],["CUB",1459457,180.25,181.9, 174.3, 179.8],["OBEROIRLTY",5181953,516,521.9, 508.5, 513],["APTECHT",2753281,270.6,278.9, 268, 269.4],["SORILHOLD",6399745,296.95,308.6, 295.65, 305.2],["RIIL",745473,469.3,472, 460.8, 463.6],["EQUITAS",4314113,152.1,156.15, 150.65, 151.55],["RAJESHEXPO",1894657,700.1,703.8, 694, 696.65],["SIEMENS",806401,1081,1088.85, 1077, 1080.2],["GSFC",319233,128.55,129.45, 125.65, 126.3],["HINDCOPPER",4592385,72.7,72.9, 71.2, 71.4],["GSS",3928833,63.15,74.9, 63, 73.9],["PIIND",6191105,852,863.25, 838.05, 845.55],["8KMILES",2830849,748.7,765.7, 738.65, 749.25],["WABAG",5168129,512.2,514.8, 508.5, 511.9],["HCC",352001,25.2,25.25, 24.4, 24.6],["BDL",548865,407.85,409.65, 401.05, 404.7],["ABCAPITAL",5533185,159,159.1, 156.65, 157.05],["AJANTPHARM",2079745,1381.65,1387.5, 1371.15, 1378.7],["REPCOHOME",7577089,621,624.5, 603.4, 606.2],["ROHLTD",3374593,206,238.9, 195.9, 218.65],["TIRUMALCHM",894977,2055.05,2109, 2041, 2061.7],["SPARC",3785729,416.55,425, 412.1, 415.75],["OFSS",2748929,4125,4170, 4071.35, 4125.2],["PNBHOUSING",4840449,1350,1355.85, 1330.1, 1345.4],["THOMASCOOK",891137,274.5,280.5, 273.1, 276.55],["IIFL",3023105,780,788.05, 770.1, 775.2],["JSWENERGY",4574465,84.05,85.8, 82.85, 85],["FCL",1586689,83.65,85.7, 82.2, 83],["APLAPOLLO",6599681,2130,2186.95, 2121.1, 2131.05],["AVANTIFEED",2031617,2160,2179.9, 2150, 2162.5],["ASHOKA",5166593,266.65,269.1, 264.2, 267.05],["KARURVYSYA",470529,107.25,107.25, 105.5, 106.15],["HSCL",3669505,148.5,149.9, 146.3, 146.75],["WELSPUNIND",2880769,52.9,52.95, 51, 51.75],["BERGEPAINT",103425,277,277.5, 268.3, 269.5],["EIHAHOTELS",3942145,597,691.7, 580.65, 637.05],["IDFC",3060993,52.75,54.1, 52.6, 53.2],["TORNTPOWER",3529217,242,242.3, 236.3, 238.3],["KAJARIACER",462849,572,572, 565, 567.05],["HCL-INSYS",339713,53.85,55, 53.3, 53.9],["QUESS",4532225,1061.05,1087.1, 1050, 1057.8],["SYMPHONY",6192641,1910.05,1940, 1854.6, 1864.5],["CDSL",5420545,287,290.45, 284, 286.05],["KANSAINER",306177,502.9,509.9, 492.1, 493.85],["NHPC",4454401,27.85,27.85, 27.15, 27.3],["PERSISTENT",4701441,685.15,692.5, 671, 676.65],["SOBHA",3539457,551.15,554.65, 546.25, 550.45],["KNRCON",3912449,318.5,339.7, 311, 325.9],["JAMNAAUTO",5319169,87.25,90.4, 86.65, 88.4],["ATFL",425729,713,721.85, 708.95, 711.75],["NILKAMAL",619777,1743.5,1758.95, 1722, 1728.15],["HFCL",5619457,27.7,27.7, 27.05, 27.15],["VIKASECO",6593537,36.25,36.4, 34.8, 35.15],["GODREJAGRO",36865,695.55,699.8, 690.1, 694.1],["CAPACITE",5567745,359.95,360.5, 350, 354.35],["MRPL",584449,109.6,109.9, 105.85, 107.15],["MAJESCO",2639361,525.05,534.75, 518, 520.7],["RUPA",6585345,440.05,443.35, 430, 432],["PTC",2906881,95.45,95.6, 93.3, 93.75],["JAGRAN",3382017,164,164, 158.05, 158.55],["RUBYMILLS",752385,427,434.7, 420, 422.5],["FMNL",5380353,151.9,154.8, 121.65, 140.4],["POWERMECH",2681089,965.5,1068, 965.1, 1033.9],["COROMANDEL",189185,532,534.75, 515.2, 520.5],["DBREALTY",4639745,65.5,65.7, 59.5, 60.05],["SHANKARA",5202177,1811,1840, 1799, 1808.45],["ALKEM",2995969,1750,1800, 1735.05, 1779.25],["RELIGARE",3857409,58.2,59.3, 57.75, 58.25],["BSE",5013761,830,830, 821.1, 825.05],["MMTC",4596993,64.65,64.7, 62.35, 62.85],["SONATSOFTW",1688577,337,340, 331.3, 336.35],["DHAMPURSUG",219393,114.1,114.45, 107.1, 108],["FLFL",7872513,458.5,459, 445, 447.9],["EMAMILTD",3460353,1148.5,1148.5, 1130.1, 1135.85],["HINDOILEXP",359169,124.3,125.6, 122.45, 123.15],["IOLCP",5225729,113.8,116.4, 104.1, 105.75],["JMFINANCIL",3491073,139,139.25, 136.15, 136.85],["ASTRAL",3691009,948,949.5, 920, 922.9],["WHIRLPOOL",4610817,1606,1610, 1558.05, 1573.2],["THERMAX",889601,1143,1143, 1122.15, 1127.1],["HAL",null,1154,1155, 1125, 1130],["DEEPAKFERT",211713,379.6,380.35, 365, 371.85],["ALOKTEXT",20993,3.2,3.2, 3.2, 3.2],["TATACOFFEE",185345,131,134.7, 129.1, 130.8],["GODFRYPHLP",302337,874.9,889.15, 870.8, 876.6],["LTTS",4752385,1156,1178, 1145.5, 1153.6],["BLUESTARCO",2127617,786,787, 775.1, 779.95],["LUXIND",2893057,1775,1799, 1755.05, 1763.35],["TVTODAY",2886401,458.8,480.7, 455.1, 471],["BHUSANSTL",114433,42.25,42.5, 35.4, 40.4],["ACE",3478273,173.4,175.75, 171.25, 172.7],["MOTILALOFS",3826433,1043,1045, 1011, 1014.2],["TBZ",6921473,109.45,111.6, 102.65, 105.45],["DREDGECORP",2885377,626,626.65, 612, 615.55],["SPTL",5494273,61.8,61.95, 60.1, 60.5],["AARTIIND",1793,1300.65,1337, 1288, 1327.7],["MANPASAND",2560513,424.85,424.95, 414.35, 423.25],["AUBANK",5436929,653.8,667.45, 652.45, 657.7],["PURVA",136420100,161.2,164.65, 156.6, 158.35],["IFCI",381697,21.05,21.1, 20.65, 20.8],["QUICKHEAL",3357697,308.5,311.6, 302, 304.85],["PFIZER",676609,2192,2194.85, 2151.55, 2161.6],["MOIL",5332481,219,219.35, 210.5, 211.4],["KAYA",2630657,997,1109.8, 981.3, 1068.05],["KIRIINDUS",4259585,461.45,462.4, 442.15, 445.2],["FMGOETZE",304641,466.2,470.5, 455.05, 458],["SAREGAMA",1252353,752.7,754.3, 726.05, 733.15],["SHALBY",182785,219.5,229.4, 219.5, 225.1],["THYROCARE",4360193,633.9,640, 630, 637.1],["APEX",5535489,685,686.7, 665, 667.1],["NATHBIOGEN",2832641,545.7,551.2, 527.85, 529.25],["GALAXYSURF",336641,1415,1525, 1415, 1483.8],["DCMSHRIRAM",207617,433.2,464, 433.2, 446.4],["NIITLTD",2949633,106.35,106.65, 102.1, 102.9],["KAMATHOTEL",467457,118.9,124.5, 114.45, 116.2],["GRANULES",3039233,109,109.4, 106.7, 107.15],["JKCEMENT",3397121,932,941.15, 927.1, 936.05],["ABB",3329,1273.95,1273.95, 1254, 1255.65],["MAGMA",2919169,167.05,171, 166.4, 169.35],["VISAKAIND",1080577,726.1,731.6, 714.9, 717.3],["MIRCELECTR",563713,52,52, 49.25, 50],["SANOFI",369153,5057.2,5118, 5010, 5021.2],["FILATEX",6280193,174.2,179, 171.75, 172.65],["SWANENERGY",6936321,172.15,178, 170.25, 171.8],["JKPAPER",3036161,148.8,148.8, 145.6, 146.85],["SYNGENE",2622209,632.9,644, 626.35, 635.45],["AEGISCHEM",10241,283.9,285.9, 281.8, 283.3],["CARERATING",7452929,1276.25,1308.7, 1276.25, 1300.75],["RAMKY",5154305,206,209.8, 201.3, 205.05],["SUNDRMFAST",856321,611.95,616.2, 604, 605.65],["SUNFLAG",857089,90.15,93.95, 90, 91.45],["HERITGFOOD",1177089,727.4,731.8, 720, 724.75],["DAAWAT",3536897,94.05,94.6, 92.5, 92.7],["DCAL",5556225,333,339.5, 332.1, 333.2],["HIMATSEIDE",348161,391.9,399.9, 389.65, 391.9],["CAMLINFINE",1591297,108.15,108.55, 105.1, 106.55],["ICICIGI",5573121,766,779.9, 766, 773.5],["PRESTIGE",5197313,304.25,306.2, 300, 301.25],["MCLEODRUSS",3057409,163.45,164.05, 158.15, 158.5],["UNITECH",920065,6.3,6.35, 6.25, 6.25],["IMFA",4924161,544.1,556.85, 533, 534.9],["ABBOTINDIA",4583169,6375,6385, 6140.05, 6171.75],["MINDAIND",3623425,1137.75,1138.4, 1112, 1127.6],["DIXON",5552641,3456,3518.9, 3415, 3451.1],["HUDCO",5331201,68.85,68.85, 67.55, 67.85],["CGPOWER",194561,83.1,83.3, 81.55, 81.95],["SUMEETINDS",5322241,17.05,18.1, 16.9, 18.1],["WELCORP",3026177,146.9,147.75, 142.3, 143.25],["NIFTYBEES",2707457,1095,1095, 1085.34, 1086.8],["KELLTONTEC",3438081,82.15,82.15, 78.2, 78.5],["ADFFOODS",132910852,245.8,249, 240.3, 241.9],["GSPL",3378433,187.1,188.65, 185, 187.2],["SURYAROSNI",864001,423,423.4, 410.2, 412.8],["SUNTECK",4516097,396.35,419.7, 395.6, 415.8],["VRLLOG",2226177,412,412, 406.55, 408.05],["TFCILTD",887297,167.7,168.4, 160, 161.5],["ITDC",4940545,485,514, 481.4, 491.85],["BHAGYANGR",5318657,56.2,56.2, 51.65, 52.1],["TIFIN",5565441,662.05,672, 662.05, 668.55],["GOLDBEES",3693569,2774.8,2801.9, 2770, 2797.75],["GHCL",288513,287.9,296, 284.15, 285.35],["STCINDIA",2802689,177.45,177.45, 169.1, 170.5],["BPL",128018948,87.4,89.6, 85.7, 86.85],["WALCHANNAG",956417,186,187.25, 181.5, 182.15],["PANACEABIO",1038081,296,298.3, 290.2, 291.65],["GAEL",2259969,284.5,292.7, 277.05, 279.45],["GMBREW",299009,1041.9,1053.2, 1022.5, 1025.6],["KOLTEPATIL",3871745,331,345.9, 328, 335.8],["MOREPENLAB",578305,36.35,37.3, 36.25, 36.75],["OMAXE",3802369,224.2,225.2, 221.95, 222.75],["AIFL",2903297,447.9,470.95, 446.5, 468.95],["SHOPERSTOP",3024129,589.95,594, 561.25, 570.2],["BLUEDART",126721,3806,3838, 3785.15, 3803.75],["JAYBARMARU",437249,497,502.4, 485.5, 487.4],["RNAVAL",4465665,29.5,29.55, 28.9, 29.05],["MAHINDCIE",3823873,218.5,219.1, 216.1, 218.35],["IFBAGRO",379393,855,858.35, 816, 822.2],["GULFOILLUB",1124097,902.9,930, 896, 907.6],["EROSMEDIA",5140481,182.15,183, 178.25, 179.35],["GUJALKALI",324353,774,785, 772.2, 775.85],["PRISMCEM",701185,119,123.8, 118.5, 120.35],["EKC",3351297,54.75,55.2, 52.2, 53.65],["KIOCL",4896257,278.35,278.35, 264.05, 267],["CCL",2931713,293,293.65, 288.1, 289.65],["MUTHOOTCAP",2666241,973.95,978.85, 906.3, 929.3],["SONASTEER",828673,114.1,118.35, 112.2, 114],["GRAVITA",5256705,181.8,182, 178, 178.5],["ANANTRAJ",3486721,50.05,51, 49.5, 49.8],["JSL",2876417,97.2,105, 97.2, 101.05],["ORISSAMINE",5102337,1784.95,1822, 1728, 1735.45],["GATI",3504129,101,101.5, 99.5, 99.9],["EXCELINDUS",2936577,1246,1259.5, 1175.85, 1189.25],["DEN",4536833,103.65,106.8, 103.45, 105.05],["HIL",372481,2055,2090.95, 2010, 2018.35],["FINCABLES",265729,704.7,704.7, 690.55, 694.8],["GREAVESCOT",316161,120.5,126, 119.6, 124.7],["HATSUN",996353,731.9,772, 730, 751.7],["UFLEX",269569,353.5,356.7, 350, 351.25],["KRIDHANINF",2938881,108,108.25, 105.5, 106.15],["JINDWORLD",5284353,599.9,617.6, 595, 599.05],["PNCINFRA",2402561,176.8,179.2, 174.25, 175],["HIKAL",2475009,238.5,243.5, 237.2, 240.7],["HATHWAY",4647425,40.05,42.4, 38.4, 40.65],["ALEMBICLTD",20225,58.9,59.25, 57.5, 57.65],["ARCOTECH",641793,35.35,35.5, 33, 33.3],["ZUARI",7436801,540.15,548.55, 521.2, 524.3],["UCOBANK",2873089,20.55,20.65, 20.3, 20.55],["CRISIL",193793,1973,1980.55, 1930.15, 1942.1],["PHOENIXLTD",3725313,612,612, 597.15, 603.85],["RBL",4286721,998.9,1009.9, 987.95, 994.5],["NETWORK18",3612417,56.65,60.5, 56.55, 58.3],["TRIDENT",2479361,72,72.3, 71, 71.2],["LAKSHVILAS",504321,92,92, 90.95, 91.35],["AIAENG",3350017,1430,1430, 1389, 1413.55],["EXCELCROP",2935553,3344.85,3625, 3328.05, 3510.4],["SIS",5504257,1111.05,1125, 1097.25, 1107.7],["V2RETAIL",3780097,470,470, 461.1, 463.75],["JYOTHYLAB",3877377,369,370.25, 362.15, 367.95],["RELAXO",6201601,679,681, 670, 673.2],["GVKPIL",3385857,16,16, 15.45, 15.5],["VIJAYABANK",2426625,58,58.5, 57.35, 57.9],["VMART",7496705,2093.5,2124, 2065.45, 2098.55],["MHRIL",4437249,321.9,332.55, 312, 316.6],["JKLAKSHMI",3453697,421.95,424.5, 416.5, 422.45],["INTELLECT",1517057,181.95,183.15, 178.25, 179.35],["CENTURYPLY",3406081,344,345, 340.15, 343.85],["JPINFRATEC",4837121,7.05,7.05, 7.05, 7.05],["SUVEN",2875649,176.45,177.8, 174.8, 175.25],["GICHSGFIN",291585,407.2,409.65, 404, 405.5],["DEEPAKNTR",5105409,251.25,259.9, 246, 247.65],["BLISSGVS",4931841,202.75,204.25, 200, 200.6],["BAYERCROP",4589313,4491.45,4522, 4445.2, 4482.8],["BANKBEES",2928385,2568.38,2575.15, 2540.85, 2543.34],["PSPPROJECT",5344513,575,578.9, 556.6, 561.25],["ERIS",5415425,800,805.05, 787, 793.2],["LAXMIMACH",506625,7550,7550, 7411.1, 7449.45],["BFINVEST",5404929,304.6,308, 295.25, 297.4],["RAMCOIND",1174273,276.5,278.15, 270.7, 271.8],["63MOONS",3038209,98.4,98.7, 95.6, 96.25],["TWL",3945985,114.15,116.2, 112.45, 112.95],["MTNL",587265,20.8,20.95, 20.3, 20.35],["AXISCADES",2415617,171,173, 165.35, 166.25],["SHREEPUSHK",2710529,219,246.85, 219, 231.55],["HOTELEELA",370689,20.4,21.4, 19.85, 20.3],["DOLPHINOFF",3501569,94.45,95.6, 92.6, 93.15],["ARCHIES",1456129,39.3,45.65, 39.1, 43.3],["FEL",2692097,39.2,39.45, 38.4, 38.55],["WELENT",2976257,154.2,154.2, 147.1, 149],["CENTRALBK",3812865,70.05,70.7, 69.25, 69.65],["TIINDIA",79873,230.05,245, 230, 230.9],["SCHAEFFLER",258817,5300.25,5376.75, 5253.1, 5260.85],["MONNETISPA",575233,23.5,24, 22.8, 23],["NAUKRI",3520257,1249.95,1249.95, 1212.1, 1227.5],["ALLCARGO",3456257,150,151.75, 148.95, 149.3],["JBFIND",442625,113.8,115.85, 110, 114.85],["TALWALKARS",4812033,82.6,84, 79.45, 79.45],["LALPATHLAB",2983425,857.1,869.95, 851.45, 855.2],["ORIENTHOT",638209,54.5,59.3, 52.5, 54.7],["EMAMIINFRA",4934913,302.2,311.9, 294.5, 299.05],["MARKSANS",2708225,34.95,34.95, 34.15, 34.25],["SINTEX",1492737,19.2,19.2, 18.75, 18.8],["VTL",530689,1233.6,1249.85, 1213.55, 1222.3],["KESORAMIND",475905,120.6,120.6, 117.1, 117.8],["KALPATPOWR",464385,475.95,484.9, 473.6, 478.1],["ZUARIGLOB",979713,204.5,206.8, 198.05, 198.85],["ELGIEQUIP",239873,272.8,274, 262.9, 266.4],["RALLIS",720897,230,230, 227.15, 227.95],["NRBBEARING",1933569,179,179.95, 168, 170.8],["GPPL",5051137,147,147.7, 142.25, 143.15],["HGS",3766273,948.2,957.5, 930.35, 934.05],["GUJFLUORO",329985,855,869, 845, 850.1],["JINDRILL",3552001,169.2,170.35, 165.4, 166.6],["DWARKESH",2986753,25.95,25.95, 24.8, 24.9],["KRBL",2707713,440.5,444.9, 437.55, 442],["NBVENTURES",1027585,146.35,147.05, 143.2, 143.9],["ROLTA",747009,61.5,63.45, 61.1, 62.5],["APARINDS",2941697,774.65,782.9, 759, 779.5],["DLINKINDIA",4569857,108.75,108.75, 102.6, 104.7],["TRENT",128064260,354,355.95, 339, 345.65],["BIRLACORPN",122881,758,762.55, 745.55, 750],["KOPRAN",491265,74.45,74.65, 69.75, 71.15],["3MINDIA",121345,20630.75,20800, 20396.8, 20629.5],["ICIL",3068673,96.5,98.75, 95.7, 97.9],["FSC",190465,693.1,696.8, 672.1, 678.8],["RANEHOLDIN",728065,2748.35,2750, 2698, 2729.65],["WINDMACHIN",6392065,119.15,119.15, 113.55, 115.25],["TATAINVEST",414977,812.3,829, 806.9, 815.2],["KHADIM",108801,737.05,756.5, 735.45, 752.1],["MANINDS",3042305,142.9,142.9, 138.75, 139.55],["ELECON",3492609,84.4,85.45, 82.9, 83.35],["IZMO",3628545,111.8,111.8, 106.25, 106.9],["NLCINDIA",2197761,89.2,91.35, 88.35, 90.05],["SDBL",342529,260.35,264.55, 257.25, 259.3],["DBCORP",4577537,319.9,320, 311.05, 312.45],["SRIPIPES",3821313,367,375, 360.4, 361.75],["SIMPLEXINF",809473,569,622.9, 566, 593],["RESPONIND",5202689,71.25,72.7, 69.65, 71.3],["AKSHOPTFBR",2199297,36.3,37.9, 36.2, 36.9],["PRAXIS",308225,256.65,264.7, 251.5, 254.05],["MERCATOR",3040257,32,32.05, 31.6, 31.9],["HEIDELBERG",592897,154.05,156.3, 153.2, 154.1],["DOLLAR",5263361,425,443.2, 425, 440],["ZENSARTECH",275457,1006,1020, 991.85, 997.9],["SCI",780289,69.1,69.8, 68.1, 68.35],["GENUSPOWER",3047681,59.85,60.25, 57.6, 59.1],["NFL",3564801,58.6,58.7, 57.6, 58],["COCHINSHIP",5506049,519,529.25, 519, 526.75],["TTKPRESTIG",907777,6417.65,6595, 6417.65, 6505.05],["ESL",5152769,3,3, 2.85, 2.85],["MONSANTO",1857793,2691.8,2723.2, 2684.65, 2689.7],["J&KBANK",1442049,60.45,61.9, 59, 59.25],["USHAMART",2263041,23.05,24.05, 22.45, 23.5],["VINDHYATEL",945665,1101.9,1143, 1073.5, 1111.4],["BBL",3522817,1661.9,1661.9, 1604.05, 1612.15],["AJMERA",4430593,287.15,288.65, 275.5, 277.7],["JPPOWER",3011329,4.5,4.5, 4.4, 4.45],["TEXRAIL",5587969,86.95,88.45, 86, 86.3],["BALAMINES",3712257,682.5,689, 671, 676.2],["SADBHAV",3388417,399.75,399.85, 389, 391.75],["JBMA",2983681,444,450, 437, 438.7],["BODALCHEM",6404353,131.5,132.2, 127.6, 128.15],["TRIGYN",1389569,139.2,142.5, 137.3, 138.4],["IEX",56321,1635,1645.3, 1628, 1640.15],["GREENPLY",1020673,317,317, 312.55, 314.1],["DATAMATICS",2924289,126.5,127.2, 123.45, 123.75],["WSTCSTPAPR",972545,294.9,294.9, 283, 284.95],["MAITHANALL",6281729,851,876, 847.75, 863.7],["PUNJLLOYD",3364353,18.65,18.65, 18.3, 18.4],["SELAN",3481089,226,229.8, 222.5, 223.05],["ZENTEC",1922049,120.5,122.6, 119.5, 119.75],["BINANIIND",3488001,101.95,101.95, 99.1, 99.9],["RICOAUTO",744705,82.15,82.3, 78.8, 79.15],["GTPL",5425921,163.05,165.5, 161.1, 162.95],["ENDURANCE",4818433,1332.65,1340, 1308, 1314.75],["ORICONENT",2600705,58.3,58.7, 56.6, 57.3],["MEP",2245377,77.4,77.65, 75.8, 76],["TASTYBITE",5143553,9055,9100, 8721.35, 8806.9],["BAJAJHIND",78849,9.3,9.35, 8.9, 8.95],["CERA",3849985,3226.95,3270, 3185, 3197.25],["BIRLACABLE",122113,95.45,102.2, 94, 99.7],["MIRZAINT",1124865,135.6,135.9, 132.5, 133.65],["ADVENZYMES",4617985,227.5,232.5, 226, 227.15],["RPPINFRA",5314561,273.05,280.95, 272.05, 276.85],["LAURUSLABS",4923905,505,505.9, 499, 500.4],["GILLETTE",403457,6617.45,6639, 6505, 6547.2],["SETCO",4483585,56.9,57.2, 55.65, 55.85],["ATUL",67329,2758.6,2759, 2695.1, 2706.1],["ELECTCAST",237569,33.75,33.75, 31.3, 31.5],["BLS",4423425,141.9,150.65, 140, 146.7],["POLYMED",6583809,262,269.95, 261, 262.35],["APLLTD",6483969,510.8,510.8, 497.3, 499.05],["CARBORUNIV",152321,373.9,374, 356.5, 358.5],["FINPIPE",266497,660.9,660.9, 649.35, 650.55],["SOLARINDS",3412993,1058.25,1066, 1028.5, 1043.6],["VIDHIING",3465217,95.45,96.7, 93.15, 94.7],["ISFT",4730625,640,664.8, 637.8, 657.3],["SJVN",4834049,33.2,33.2, 32.8, 32.9],["BHARATIWIN",133633,36.11,36.47, 36, 36.28],["GUFICBIO",2971137,129.25,129.25, 121, 123.55],["TRIVENI",3348737,42,42.2, 39, 39.35],["EIDPARRY",234497,280.5,281.4, 272.75, 274.2],["HTMEDIA",136361476,88.4,88.5, 86.1, 86.75],["KSBPUMPS",498945,782,808, 782, 786.55],["SREEL",8150273,279.95,283.6, 268, 272],["NUCLEUS",2762497,440,442.7, 427.6, 430.6],["COFFEEDAY",2858241,302.2,306.9, 302.2, 304.15],["VSTTILLERS",6218753,2815,2820.6, 2751.15, 2777.1],["RKFORGE",2921217,829.8,830, 809.5, 818.85],["HUBTOWN",3635969,77.8,78.45, 73.7, 74.55],["HARRMALAYA",336129,104,104.5, 99.3, 99.85],["EVERESTIND",254209,499.95,501, 490.65, 491.55],["GOLDINFRA",2723073,185.9,187, 176.5, 177.15],["VBL",4843777,647.7,654.7, 638, 640.1],["GLAXO",295169,2392,2402, 2342.3, 2360.2],["INOXLEISUR",3384577,268,270, 257.05, 259.35],["NILAINFRA",2368769,20.1,20.3, 19.9, 20],["MAHSEAMLES",534529,476.1,481.05, 467.55, 470.5],["PITTILAM",3618305,91,104.7, 89, 104.35],["RNAM",91393,258.15,259, 255.5, 256.8],["HSIL",361473,400.8,403.05, 395, 395.4],["VIPCLOTHNG",3799809,68.2,68.8, 65.85, 66.2],["GICRE",70913,735.8,737.4, 725.15, 736.15]];
var typeOfOrder='LIMIT';var varietyType='regular';var invest=5000, qty=1;var entryPercFromOpen=parseFloat(0.2);var hour=9, min=15, sec=1;var gap=parseFloat(2.5);var gapCutoff=parseFloat(10);var csrfToken='hmFbbjRlsIlkZAJbdTrpOivc9nrH4pFn';var accessToken='7AT7YcXQ9anfQEXbEj5ax94c1sDwrSVu';



var entryTradeObjects = [], exitTradeObjects = [], orderIds=[];
var now = new Date();
var millisTill10 = new Date(now.getFullYear(), now.getMonth(), now.getDate(), hour, min, sec, 0) - now;
if (millisTill10 < 0) {
    millisTill10 += 86400000; 
	console.log("it's already after 9:15");
}
setTimeout(start, millisTill10);

function generateOrderObject(company, limitPrice, transaction_type, order_type, variety, open)
{
	if(order_type=='MARKET'){
		limitPrice=0;
	}
	var order = {
		Id:"",
		TransactionType:"",
		OrderType:"",
		Quantity:"",
		LimitPrice:"",
		TriggerPrice:"",
		Variety:""
	};
	//clearOrder();
	order.Id=company;
	order.TransactionType= transaction_type;
	order.OrderType=order_type;
	order.Quantity=qty;
	order.LimitPrice=limitPrice;// in placeOrder req, for MARKET : 0, LIMIT: limitPrice
	order.OpenPrice=open;
	order.TriggerPrice = 0;
	order.Variety=variety;
	return order;
}

function populateTradeObjects(){
	console.log(new Date());
	var name, zerodhaId, yestOpen, yestHigh, yestLow, yestClose, fileNo=9;
	var size = Math.floor(symbols.length/12);
	var start = fileNo*size; var end = start+size;
	for(var i=start; i< end; i++){
		name=symbols[i][0]; zerodhaId=symbols[i][1]; yestOpen=parseFloat(symbols[i][2]); yestHigh=parseFloat(symbols[i][3]);
		yestLow=parseFloat(symbols[i][4]);yestClose=parseFloat(symbols[i][5]);
		openPrice = parseFloat(getOpenPrice(zerodhaId));
		if((openPrice-yestClose)*100/yestClose > gap && (openPrice-yestClose)*100/yestClose < gapCutoff && openPrice < 5000){
				entryPrice = openPrice - (openPrice*entryPercFromOpen)/100;
				entryPrice = getTickPrice(entryPrice);
				entryTradeObjects[entryTradeObjects.length] = generateOrderObject(name, entryPrice, "SELL", typeOfOrder, varietyType,openPrice);
		}
		else if((yestClose-openPrice)*100/openPrice > gap && (yestClose-openPrice)*100/openPrice < gapCutoff){
			entryPrice = openPrice + (openPrice*entryPercFromOpen)/100;
			entryPrice = getTickPrice(entryPrice);
			entryTradeObjects[entryTradeObjects.length] = generateOrderObject(name, entryPrice, "BUY", typeOfOrder, varietyType,openPrice);
		}
	}
	console.log(new Date());
}

function start(){
	populateTradeObjects();
	console.log(new Date());
	var amntToInvestPerSymbol = invest/entryTradeObjects.length;
	console.log(entryTradeObjects);
	for (var i=0; i<entryTradeObjects.length; i++)
	{
		orderId = PlaceOrder(entryTradeObjects[i], amntToInvestPerSymbol, "regular");
		if(orderId!=""){
			orderIds[orderIds.length]=executedOrders(orderId, entryTradeObjects[i].Id);
		}else {
			exitTradeObjects.splice(i,1);
		}
	}
	console.log(new Date());
}

function executedOrders(orderId, symbol){
	var executedOrders = {
		OrderId:"",
		Symbol:"",
		Status: ""
	};
	executedOrders.OrderId=orderId;
	executedOrders.Symbol=symbol;
	executedOrders.Status="";
	return executedOrders;
}

function PlaceOrder(Order, amntToInvestPerSymbol, variety)
{ 
	var order_id="";
    $.ajaxSettings.beforeSend=function(xhr){
        xhr.setRequestHeader('Accept', "application/json, text/plain, */*");
        xhr.setRequestHeader('Content-Type', "application/x-www-form-urlencoded");
		xhr.setRequestHeader('x-csrftoken', csrfToken);
		xhr.setRequestHeader('x-kite-version', '1.2.0');
    };
	noOfShares = amntToInvestPerSymbol/Order.OpenPrice;
	Order.Quantity = parseInt(noOfShares);
	var OrderData = "exchange=NSE&tradingsymbol="+Order.Id+"&transaction_type="+Order.TransactionType+"&order_type="+Order.OrderType+"&quantity="+Order.Quantity+"&price="+Order.LimitPrice+"&product=MIS&validity=DAY&disclosed_quantity=0&trigger_price="+Order.TriggerPrice+"&squareoff=0&stoploss=0&trailing_stoploss=0&variety="+variety+"";

	$.ajax({
	statusCode: {
	 500: function() {
	console.error("Error while placing order.");
	  }
	},
	url : "https://kite.zerodha.com/api/orders/"+varietyType,
	type: "POST",
	async: false,
	data : OrderData,
	success: function(data, textStatus, jqXHR)
	{
		console.log(Order.Id);
		if(data != null && data.status == "success")
			order_id =  data.data.order_id;
	},
	error: function (jqXHR, textStatus, errorThrown)
	{
		console.log("error");
	}
	});
	if(order_id=="") sleep(10);
	return order_id;
}

function getOpen(data)
{
	var high=0,low=0,open=0;
	if(data.data.candles.length!=0){
		open = data.data.candles[0][1];
	}
	return open;
}

function getOpenPrice(token)
{
	var result="";
	var from=getDate(0), to =getDate(0);
	var getUrl = "https://kitecharts.zerodha.com/api/chart/"+token+"/60minute?public_token="+csrfToken+"&user_id=DP3137&api_key=kitefront&access_token="+accessToken+"&from="+from+"&to="+to+"&ciqrandom=1523897795455";
	
	$.ajax({
		statusCode: {
			500: function() {
				console.error("Error while placing order.");
			}
		},
		url : getUrl,
		type: "GET",
		async: false,
		success: function(data, textStatus, jqXHR)
		{		
			if(data != null && data.status == "success"){
				result = getOpen(data);
			}
		},
		error: function (jqXHR, textStatus, errorThrown)
		{
			console.log("error");
		}
	});
	return result;
}
//Utility functions------------------------------------------------------------------------------
function sleep(milliseconds) {
  var start = new Date().getTime();
  for (var i = 0; i < 1e7; i++) {
    if ((new Date().getTime() - start) > milliseconds){
      break;
    }
  }
}

function getDate(dayToSubstract) {
    var date = new Date();
    date.setDate(date.getDate()-dayToSubstract);
    return date.getFullYear() + '-' + ('0' + (date.getMonth()+1)).slice(-2) + '-' + ('0' + date.getDate()).slice(-2);
}

function getTickPrice(price){
	toAdd = 10-(((parseFloat(price).toFixed(2))*100)%10);
	if(parseInt(toAdd) < 5){
		tickPrice = (((parseFloat(price).toFixed(2))*100)+toAdd)/100;
	}
	if(parseInt(toAdd) >= 5){
		tickPrice = (((parseFloat(price).toFixed(2))*100)+(toAdd-5))/100;
	}
	return tickPrice;
}
 